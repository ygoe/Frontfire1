<!DOCTYPE html>
<html class="center">
<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>Modal - Frontfire Demo</title>

	<link rel="stylesheet" href="lib/frontfire/css/frontfire.min.css">
	<link rel="stylesheet" href="css/site.css">
	<link rel="stylesheet" href="lib/fontawesome/css/fontawesome-all.min.css">
	<link rel="icon" href="favicon.ico" type="image/x-icon">
</head>
<body>
	<header>
		<div class="page-width">
			<a href="index.html"><img src="images/frontfire.svg" alt="Logo">Frontfire Demo</a>
		</div>
	</header>

	<main class="page-width">
		<h1>Modal</h1>
		
		<p>
			A modal is an element that overlays the page, shows a message or other content and provides buttons to let the user make a decision.
			A dialog box would be another name for it.
			The modal content can be freely defined. The modal element is defined as an HTML element with the <code>modal</code> CSS class which applies basic modal styles and makes the element invisible at first.
		</p>
		
		<p>
			To open a modal element, call the <code>modal</code> jQuery extension function on the element to show as modal. The function takes the options as its single argument. The options are optional and can alternatively be specified as <code>data-opt</code> HTML attributes with the modal HTML element. The following options are supported:
		</p>

		<table class="no-border no-vgrid" style="width: 100%;">
			<tr>
				<th>Option</th>
				<th>Type</th>
				<th>Description</th>
				<th>Default</th>
			</tr>
			<tr>
				<td><code>cancellable</code></td>
				<td>Boolean</td>
				<td>Indicates whether the modal is closed when clicking anywhere outside of it or pressing <kbd>Esc</kbd>. This also shows a close button in the model overlay.</td>
				<td>true</td>
			</tr>
			<tr>
				<td><code>closeTooltip</code></td>
				<td>String</td>
				<td>The tooltip text for the close button.</td>
				<td></td>
			</tr>
			<tr>
				<td><code>dimBackground</code></td>
				<td>Boolean</td>
				<td>Indicates whether the page background is dimmed while the modal is open.</td>
				<td>true</td>
			</tr>
		</table>
		
		<p>
			To open a modal, use code like this:
		</p>
		
		<p><samp>
			$("#button1").click(function (event) {<br>
			    $("#modal1").modal(options);<br>
			});
		</samp></p>

		<p>
			Here are a number of buttons that open the same modal with different options.
		</p>

		<p>
			<button type="button" id="open-modal1" class="button">Open non-cancellable modal</button>
		</p>

		<p>
			<button type="button" id="open-modal2" class="button">Open cancellable modal</button>
		</p>
		
		<p>
			<button type="button" id="open-modal3" class="button">Open modal without dimmed background</button>
		</p>
		
		<p>
			Result: <span id="result">Not yet opened</span>
		</p>
		
		<p>
			The modal can be closed by code. This is done through a plugin extension function with a syntax similar to other jQuery functions.
		</p>
		
		<p><samp>
			$("#modal1").modal.close(); 
		</samp></p>
		
		<h2>Standard message boxes</h2>
		
		<p>
			A convenient function to show standard message box modals exists. It accepts the content (either as plain text, HTML markup or a jQuery object), the buttons and a result handler that is called when the message box is closed.
		</p>
		
		<p><samp>
			$.modal({<br>
			    text: "Message box content",<br>
			    buttons: [<br>
			        { text: "Yes", icon: "fas fa-check", className: "default", result: "yes" },<br>
			        { icon: "fas fa-cross", className: "narrow", result: "no" },<br>
			        { text: "Cancel", className: "transparent", result: false }<br>
			    ],<br>
			    resultHandler: function (result) {<br>
			        // ...<br>
			    });
		</samp></p>
		
		<p>
			The message text can be specified in the <code>text</code>, <code>html</code> or <code>content</code> properties of the specified options.
		</p>
		
		<p>
			Each button entry can contain the properties <code>text</code> (button text), <code>icon</code> (<code>&lt;i&gt;</code> element CSS class), <code>className</code> (button’s CSS class) and <code>result</code>. Instead of an array, buttons can also be a string that easily defines standard buttons: "OK", "OK cancel", "YES no", "yes NO". The first button with the <code>default</code> CSS class is focused initially.
		</p>
		
		<p>
			The <code>resultHandler</code> function is called when the modal is closed. If a button was pressed, its result value is passed to the function; otherwise nothing.
		</p>
		
		<p>
			Besides that, the options are passed on to the modal plugin call so that the modal itself can be configured as well in the same options object. The second example below makes the modal non-cancellable.
		</p>
		
		<p>
			<button type="button" id="std1" class="button">Standard message box</button>
			<span id="std1Result" style="margin-left: 10px;"></span>
		</p>

		<p>
			<button type="button" id="std2" class="button">Message box with HTML and custom buttons</button>
			<span id="std2Result" style="margin-left: 10px;"></span>
		</p>

		<p style="background: #f8f8f8; color: #a0a0a0; padding: 45vh 0; text-align: center;">
			<em>This space is intentionally left blank to demonstrate the page scroll lock while a modal is open.</em>
		</p>

		<div id="modal1" class="modal">
			Lorem ipsum dolor sit amet, consectetur adipiscing elit. Aenean accumsan euismod felis, et sodales justo convallis vel. Donec placerat augue non neque mollis, a tristique libero venenatis. Etiam eget ultricies tortor, quis bibendum erat. Vivamus eget leo pharetra, rutrum dolor nec, eleifend est. Integer ac leo a augue consectetur cursus. Sed a varius ex. Morbi vitae posuere tellus. Nullam bibendum.

			<div class="buttons">
				<button class="button accept">Accept</button>
				<button class="button cancel">Cancel</button>
			</div>
		</div>
	</main>

	<footer>
		<div class="page-width">
			<strong>Frontfire</strong> Web Frontend Framework © Yves Goergen
		</div>
	</footer>

	<script src="lib/jquery/js/jquery-3.3.1.min.js"></script>
	<script src="lib/frontfire/js/frontfire.min.js"></script>
	<script src="js/site.js"></script>

	<script>
		$("#open-modal1").click(function (event) {
			event.preventDefault();
			$("#modal1").modal({ cancellable: false });
			$("#result").text("Opened");
		});
		$("#open-modal2").click(function (event) {
			event.preventDefault();
			$("#modal1").modal();
			$("#result").text("Opened");
		});
		$("#open-modal3").click(function (event) {
			event.preventDefault();
			$("#modal1").modal({ closeTooltip: "Close", dimBackground: false });
			$("#result").text("Opened");
		});

		$("#modal1 button.accept").click(function () {
			$("#result").text("Accepted");
			$("#modal1").modal.close();
		});
		$("#modal1 button.cancel").click(function () {
			$("#result").text("Cancelled");
			$("#modal1").modal.close();
		});
		
		$("#std1").click(function () {
			let options = {
				text: "This is the message text.",
				buttons: "yes NO",
				resultHandler: function (result) {
					$("#std1Result").text("Result: " + JSON.stringify(result));
				}
			};
			$.modal(options);
		});
		
		$("#std2").click(function () {
			let options = {
				html: "<b>Title</b><p>The message can also contain <em>HTML markup</em>.</p>",
				buttons: [
					{ text: "Button 1", icon: "fas fa-folder", className: "default", result: "1" },
					{ icon: "fas fa-plus", className: "narrow", result: "2" },
					{ text: "Cancel", className: "transparent", result: false }
				],
				resultHandler: function (result) {
					$("#std2Result").text("Result: " + JSON.stringify(result));
				},
				cancellable: false
			};
			$.modal(options);
		});
	</script>
</body>
</html>
